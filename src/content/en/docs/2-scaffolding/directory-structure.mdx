---
title: "Project Structure Optimization"
---

# Project Structure Optimization

> AI-optimized project organization: read less, understand faster

## Core Concept: Keep Files Small

AI has an important limitation when reading code: **limited context window**. When AI reads a file, the larger the file and the more irrelevant information it contains, the less efficient AI becomes at understanding core logic.

### Large Files vs Small Files

| Approach | AI Reading Experience | Problem |
|----------|----------------------|---------|
| ğŸ“„ **Large File** (1000+ lines) | AI needs to read lots of irrelevant code to find the target | Context pollution, low comprehension efficiency |
| ğŸ“ **Small Files** (100-300 lines) | AI can precisely read the needed module | Clear context, precise modifications |

**Principle: One file does one thing, keep it within 100-300 lines.**

## Recommended Directory Structure

### Frontend Projects (React/Next.js)

```
src/
â”œâ”€â”€ app/                    # Page routes
â”‚   â”œâ”€â”€ (auth)/            # Route groups
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ register/
â”‚   â””â”€â”€ dashboard/
â”œâ”€â”€ components/            # UI components
â”‚   â”œâ”€â”€ ui/               # Base components (Button, Input...)
â”‚   â””â”€â”€ features/         # Business components
â”‚       â”œâ”€â”€ UserCard/
â”‚       â”‚   â”œâ”€â”€ index.tsx      # Component entry
â”‚       â”‚   â”œâ”€â”€ UserCard.tsx   # Main component
â”‚       â”‚   â”œâ”€â”€ Avatar.tsx     # Sub-component
â”‚       â”‚   â””â”€â”€ types.ts       # Type definitions
â”‚       â””â”€â”€ OrderList/
â”œâ”€â”€ hooks/                 # Custom Hooks
â”œâ”€â”€ lib/                   # Utility functions
â”œâ”€â”€ types/                 # Global type definitions
â”œâ”€â”€ docs/                  # ğŸ“š Project documentation
â”‚   â”œâ”€â”€ architecture.md   # Architecture overview
â”‚   â”œâ”€â”€ api-contracts.md  # API contracts
â”‚   â””â”€â”€ decisions/        # Architecture Decision Records
â””â”€â”€ prompts/              # ğŸ¤– AI Prompts management
    â”œâ”€â”€ features/         # Feature development prompts
    â””â”€â”€ templates/        # General templates
```

### Backend Projects (Node.js/NestJS)

```
src/
â”œâ”€â”€ modules/               # Business modules
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ user.controller.ts
â”‚   â”‚   â”œâ”€â”€ user.service.ts
â”‚   â”‚   â”œâ”€â”€ user.repository.ts
â”‚   â”‚   â”œâ”€â”€ dto/              # Data Transfer Objects
â”‚   â”‚   â”‚   â”œâ”€â”€ create-user.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ update-user.dto.ts
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â”‚       â””â”€â”€ user.entity.ts
â”‚   â””â”€â”€ order/
â”œâ”€â”€ common/                # Common modules
â”‚   â”œâ”€â”€ decorators/
â”‚   â”œâ”€â”€ filters/
â”‚   â”œâ”€â”€ guards/
â”‚   â””â”€â”€ interceptors/
â”œâ”€â”€ config/               # Configuration management
â”œâ”€â”€ docs/                 # ğŸ“š Project documentation
â””â”€â”€ prompts/              # ğŸ¤– AI Prompts management
```

## ğŸ“š Managing Project Documentation

Maintaining clear documentation in your project helps AI quickly understand project context:

### Recommended Documentation Structure

```
docs/
â”œâ”€â”€ README.md             # Project overview (AI reads first)
â”œâ”€â”€ architecture.md       # System architecture
â”œâ”€â”€ tech-stack.md         # Technology stack
â”œâ”€â”€ api-contracts/        # API contract documents
â”‚   â”œâ”€â”€ user-api.md
â”‚   â””â”€â”€ order-api.md
â”œâ”€â”€ database/             # Database related
â”‚   â”œâ”€â”€ schema.prisma     # Or erd.md
â”‚   â””â”€â”€ migrations.md
â””â”€â”€ decisions/            # Architecture Decision Records (ADR)
    â”œâ”€â”€ 001-use-nextjs.md
    â””â”€â”€ 002-auth-strategy.md
```

### Documentation Writing Principles

| Principle | Description |
|-----------|-------------|
| **Concise and Clear** | AI doesn't need detailed usage instructions, just needs to know "what" and "why" |
| **Structured** | Use tables, lists, code blocks for easy AI parsing |
| **Keep Updated** | Outdated documentation is worse than no documentation |

## ğŸ¤– Managing Prompts

Manage commonly used AI Prompts as project assets for team reuse and iteration:

### Recommended Prompts Structure

```
prompts/
â”œâ”€â”€ README.md              # Prompts usage guide
â”œâ”€â”€ features/              # Feature development related
â”‚   â”œâ”€â”€ new-api-endpoint.md
â”‚   â”œâ”€â”€ new-component.md
â”‚   â””â”€â”€ add-database-table.md
â”œâ”€â”€ refactoring/           # Refactoring related
â”‚   â”œâ”€â”€ extract-hook.md
â”‚   â””â”€â”€ split-component.md
â””â”€â”€ templates/             # General templates
    â”œâ”€â”€ code-review.md
    â””â”€â”€ bug-fix.md
```

### Prompt File Example

```markdown
# Add New API Endpoint

## Use Case
Use when adding a new REST API endpoint to a module

## Prompt Template
Please add a new API endpoint under `src/modules/{module}`:

1. Add route handler in controller
2. Add business logic in service
3. Create corresponding DTO files
4. Add unit tests

Requirements:
- Follow existing code style
- Add Swagger documentation annotations
- Handle common error cases
```

> ğŸ“– For detailed content on Prompts management, see [Chapter 4: Workflow](../4-workflow).

## File Splitting Practices

### Splitting Components

```tsx
// âŒ Bad: All logic in one large file
// components/UserDashboard.tsx (500+ lines)

// âœ… Good: Split into multiple small files
// components/UserDashboard/
//   â”œâ”€â”€ index.tsx           # Export entry
//   â”œâ”€â”€ UserDashboard.tsx   # Main component (~100 lines)
//   â”œâ”€â”€ UserStats.tsx       # Stats card (~80 lines)
//   â”œâ”€â”€ RecentActivity.tsx  # Recent activity (~100 lines)
//   â”œâ”€â”€ hooks.ts            # Component-specific hooks
//   â””â”€â”€ types.ts            # Type definitions
```

### Splitting Services

```typescript
// âŒ Bad: One giant service
// services/user.service.ts (800+ lines)

// âœ… Good: Split by responsibility
// services/user/
//   â”œâ”€â”€ index.ts                 # Export entry
//   â”œâ”€â”€ user-auth.service.ts     # Auth related (~150 lines)
//   â”œâ”€â”€ user-profile.service.ts  # Profile management (~120 lines)
//   â””â”€â”€ user-settings.service.ts # Settings management (~100 lines)
```

## Key Principles Summary

| Principle | Practice |
|-----------|----------|
| **Single Responsibility** | Each file handles only one functional module |
| **File Size** | Keep within 100-300 lines |
| **Clear Naming** | File name directly reflects its content |
| **Proximity Principle** | Keep related files in the same directory |
| **Docs Alongside Code** | Version control project docs with code |

## Next Steps

Next, we'll explore [Database Schema Management](./database-schema) to learn how to help AI efficiently understand your data models.

