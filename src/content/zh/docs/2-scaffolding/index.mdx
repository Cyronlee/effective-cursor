---
title: "引言"
---

import { Cards } from 'nextra/components'

# 引言

> 在项目初期搭建好架构与自动化体系，让 AI 在安全轨道上高效运行

在上一章中，我们已经完成了技术选型。现在需要初始化项目或优化现有项目结构。

## 核心理念：架构先行

在 AI 辅助开发时代，很多人误以为可以让 AI "自由发挥"来构建系统。然而实践证明，**没有良好的工程化基础，AI 容易导致偏差、技术债或低质量输出**。

就像一位优秀的行政总厨必须先设计好厨房布局和工作流程，才能让厨师团队高效运作一样，**人类必须在项目初期手动奠定坚实的基础架构**。


| 餐厅元素 | 软件架构 | 谁来负责 |
|---------|----------|---------|
| 🏗️ 厨房布局 | 系统架构、目录结构 | **人类** 必须精心规划 |
| 📋 菜单设计 | API 设计、接口契约 | **人类** 定义契约 |
| 🍳 烹饪流程 | 业务逻辑实现 | **AI** 高效实现 |
| 🔍 卫生检查 | 静态分析、测试 | **工具** 自动反馈 |


## 核心部分

架构初始化包含三个核心部分，每个部分都需要针对 AI 协作进行特殊调整：

| 支柱 | 说明 | AI 协作要点 |
|-----|------|------------|
| 📁 **代码结构** | 目录组织、模块划分、文件拆分 | 小文件策略，让 AI 精准读取 |
| 📚 **业务文档** | ERD、API 契约、架构决策 | 单一数据源，让 AI 快速理解 |
| ⚙️ **自动化工具** | Linter、测试、CI/CD | 分层设计，为 AI 提供反馈 |

### 新项目：使用脚手架

如果你是从零开始，推荐使用这些经过验证的起始模板：

| 技术栈 | 推荐脚手架 | 特点 |
|-------|-----------|------|
| **React/Next.js** | [shadcn/ui](https://ui.shadcn.com/docs) | 现代 UI 组件库，TypeScript 原生支持 |
| **Next.js 企业级** | [next-enterprise](https://github.com/Blazity/next-enterprise) | 企业级架构，包含完整工具链 |
| **Spring Boot** | [spring-boot-boilerplate](https://github.com/Genc/spring-boot-boilerplate) | 生产就绪的后端模板 |

### 已有项目：优化调整

如果你已有项目，可以直接参考本章内容进行：
- **项目结构优化**：调整目录组织，拆分大文件
- **工具链配置**：引入静态分析、测试、CI/CD

## 自动化工具分层

引入自动化工具时，关键是**识别哪些工具适合加入 AI 工作流，哪些应该保持在其他流程中**。

### 🤖 AI 工作流

这些工具集成到 AI 的工作循环中，提供**即时反馈**：

| 工具类型 | 示例 | AI 如何使用 |
|---------|------|------------|
| **类型检查** | TypeScript、mypy | AI 生成代码后立即检查类型错误 |
| **Linter** | ESLint、Ruff | AI 根据 lint 错误自动修复代码 |
| **单元测试** | Vitest、PyTest | AI 运行测试验证功能正确性 |

> **原则：AI 工作流中的工具不超过 3 个**。如果需要更多工具，建议封装为脚本作为单一工具入口。

### 👨‍💻 日常开发工作流

这些工具在**开发者本地流程**中运行：

| 工具类型 | 示例 | 触发时机 |
|---------|------|---------|
| **代码格式化** | Prettier、Black | 保存文件时或提交前 |
| **Pre-commit Hook** | husky + lint-staged | 开发者提交代码时 |
| **Pre-push Hook** | 运行完整测试套件 | 推送代码前 |

### 🔄 CI/CD 工作流

这些工具在**持续集成流程**中运行：

| 工具类型 | 示例 | 触发时机 |
|---------|------|---------|
| **CI 检查** | GitHub Actions | PR 创建/更新时 |
| **安全扫描** | Dependabot、Snyk | 定期或 PR 时 |
| **依赖升级** | Renovate、Dependabot | 定期自动创建 PR |

## 本章内容

<Cards>
  <Cards.Card title="📁 目录结构" href="./directory-structure" />
  <Cards.Card title="🗄️ 数据库 Schema" href="./database-schema" />
  <Cards.Card title="🔍 静态分析工具" href="./static-analysis" />
  <Cards.Card title="🧪 自动化测试" href="./automated-testing" />
  <Cards.Card title="🔄 CI/CD 流程" href="./ci-cd" />
</Cards>

## 下一步

准备好了吗？让我们从[项目结构优化](./directory-structure)开始，了解如何设计对 AI 友好的项目组织方式。
