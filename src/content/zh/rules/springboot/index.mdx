---
title: "Spring Boot 规则集"
---

import { FileTree } from 'nextra/components'

# Spring Boot 规则集

这是一套针对 Spring Boot + Spring Data JPA + PostgreSQL 技术栈的 Cursor Rules 规则集合。通过将项目规范转化为 AI 可理解的规则，让 Cursor 在开发过程中自动遵循团队的技术标准和最佳实践。

## 规则概览

| 规则文件 | 适用范围 | 核心内容 | 作用 |
|---------|---------|---------|------|
| **全局规则**<br/>`global-rules.mdc` | 整个项目<br/>`alwaysApply: true` | 技术栈定义、包结构<br/>分层规范、依赖注入 | 确保项目的基础架构<br/>和代码风格保持一致 |
| **接口契约**<br/>`api-contract.mdc` | `controller/**/*.java` | URL 设计、响应结构<br/>参数绑定规范 | 统一 RESTful API<br/>的设计风格 |
| **鉴权安全**<br/>`auth-security.mdc` | `controller/**`<br/>`service/**` | 认证方式、用户上下文<br/>权限校验模式 | 规范安全相关的<br/>实现方式 |
| **异常处理**<br/>`exception-error-code.mdc` | `exception/**`<br/>`controller/**`<br/>`service/**` | 异常类体系、错误码<br/>全局异常处理 | 统一错误处理<br/>和响应格式 |
| **集成测试**<br/>`integration-test.mdc` | `src/test/**/*.java` | 测试基类、MockMvc<br/>数据准备、断言风格 | 规范测试代码<br/>的编写方式 |

## 使用方法

将这些规则文件添加到项目的 `.cursor/rules/` 目录中，Cursor 会根据文件路径和 `globs` 配置自动应用相应的规则：

<FileTree>
  <FileTree.Folder name=".cursor" defaultOpen>
    <FileTree.Folder name="rules" defaultOpen>
      <FileTree.File name="global-rules.mdc" />
      <FileTree.File name="api-contract.mdc" />
      <FileTree.File name="auth-security.mdc" />
      <FileTree.File name="exception-error-code.mdc" />
      <FileTree.File name="integration-test.mdc" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

## 规则特点

- **分层设计**: 通过 `alwaysApply` 和 `globs` 实现规则的精确作用域控制
- **技术栈绑定**: 专门针对 Spring Boot 3.x + JPA 生态系统优化
- **最佳实践**: 包含分层架构、异常处理、安全认证等企业级最佳实践
- **测试优先**: 内置集成测试规范，确保代码质量

## 扩展建议

根据项目需求，可以继续添加其他规则文件：

- **数据访问规则**: 针对 `repository/**` 的 JPA Repository 规范
- **DTO 规则**: 针对数据传输对象的设计规范
- **缓存规则**: 针对 Redis/本地缓存的使用规范
- **消息队列规则**: 针对 Kafka/RabbitMQ 的集成规范

这样可以构建一个完整的、分层的规则体系，让 AI 助手更好地理解和遵循项目规范。

## Rules 提取模板

如果你想从现有的 Spring Boot 项目中提取规范，可以使用以下提示词模板：

````md
# Spring Boot 项目规范提取任务

你现在是一位经验非常丰富的高级 Java 后端架构师，专门负责从已有 Spring Boot 项目代码中逆向提取和总结**项目独有的强制性规范**。

## 任务

根据我提供的项目代码片段（包括目录结构、代表性类、配置文件、注解使用等），为这个项目总结出下面 **5 个规范文档** 的 high-level 内容，保存到 `.cursor/rules/` 目录下。

## 原则

请严格遵守以下原则：

1. 只写这个项目中**真实存在且被反复强制使用**的规范，**不要写**大模型常识、教科书式最佳实践、网上泛泛而谈的内容。

   - 例如不要写"函数应该职责单一"、"使用 lombok"、"参数校验要用 @Validated" 这种大家都懂的，除非项目里有非常明确、不同于常规的强制约定或特殊写法。

2. 每个文档的总行数控制在 **300 行以内**，语言简洁、明确、可执行。

3. **仅在确实有必要澄清写法、减少歧义、或项目写法明显偏离常规时**，才附上关键 import 位置和有代表性的代码片段（建议 3~10 行）。

   - 如果规则本身已经足够清晰，或项目写法与主流做法基本一致，就不要附代码。
   - 不要为了凑数而强行添加代码示例。

4. 规则文档的目的是用于 **Cursor Rule** 来提高 AI 的生成质量，因此要为大模型注意力做优化。

## 需要总结的 5 个文档

只总结 high-level 内容，聚焦项目实际强制执行的特色，不要过度细化实现细节：

### 1. 全局开发规范 (`global.mdc` + `global-development.mdc`)

- 重点关注：技术栈、包结构与分层边界、依赖注入方式、Service 层设计模式
- `global.mdc` 设置 `alwaysApply: true`，包含核心约定
- `global-development.mdc` 包含详细说明

### 2. 接口契约规范 (`api-contract.mdc`)

- 重点关注：URL 设计风格、版本控制方式、统一响应结构、Controller 编写规范

### 3. 异常与错误码规范 (`exception-error-code.mdc`)

- 重点关注：异常类体系结构、业务异常抛出时机与封装方式、错误码编码规则（位数、前缀、分配原则）、全局异常处理主要策略

### 4. 鉴权与安全规范 (`auth-security.mdc`)

- 重点关注：项目实际采用的鉴权方案及核心流程、如何获取当前用户信息、哪些封装好的工具可以用但不要修改

### 5. 集成测试规范 (`integration-test.mdc`)

- 重点关注：测试基类、测试类组织方式、测试数据准备方式、已封装的测试工具类
````

